---
title: JVM配置参数列表及说明
tags:
  - JVM
originContent: >-
  本文主要提供jvm中各种jvm配置参数的解释，具体如何配置还需要根据使用环境而定，这里只标明每个参数配置项的意义


  # JVM配置参数列表

  ```java

  -Xmx3550m               # 设置jvm最大可用内存大小为3550m

  -Xms3550m               # 设置jvm初始内存为3550m.此设置可与Xmx相同，避免每次垃圾回收后jvm重新分配内存

  -Xmn2g                  #
  设置年轻代为2g，整个堆大小=年轻代大小+年老代大小+持久代大小。持久代一般固定大小为64m，所以增大年轻代后，将会减少年老代大小，此值对系统性能影响较大，Sun官方推荐配置为整个堆的3/8

  -Xss128k                #
  设置每个线程的堆栈大小。JDK5.0以后每个线程堆栈大小为1M，以前每个线程堆栈大小为256K。更具应用的线程所需内存大小进行调整。在相同物理内
  存下，减小这个值能生成更多的线程。但是操作系统对一个进程内的线程数还是有限制的，不能无限生成，经验值在3000~5000左右。


  -XX:NewRatio=4          #
  设置年轻代（包括Eden和两个Survivo区）与年老代的比值，除去持久代。设置为4,则年轻代与年老代所占比值为1:4，年轻代占整个堆栈的1/5

  -XX:SurvivorRatio=4     #
  设置年轻代中Eden区与Survivor区的大小比值。设置为4，则两个Survivor区与一个Eden区的比值为2:4,一个Servivor区占整个年轻代的1/6

  -XX:MaxTenuringThreshold=0      #
  设置垃圾最大年轻。如果设置为0,则年轻代对象不经过Survivor区，直接进入年老代。对于年老代比较多的应用，可以提高效率。如果将此值设置为一个较大值，则年轻代对象会在Survivor区进行多次复制，这样可以增加对象在年轻代的存活时间，增加在年轻代被回收的概率。


  -XX:PermSize=64m               
  #设置非堆内存初始值，默认是物理内存的1/64，在数据量很大的文件导出时，一定要把这个值设置上，否则会出现内存溢出。

  -XX:MaxPermSize=16m             #
  设置最大非堆内存的大小，默认是物理内存的1/4。那么，如果是物理内存4GB，那么64分之一就是64MB，这就是PermSize默认值，也就是永生代内存初始大小；四分之一是1024MB，这就是MaxPermSize默认大小。

  # MaxPermSize缺省值和-server -client选项相关。

  # -server选项下默认MaxPermSize为64m

  # -client选项下默认MaxPermSize为32m

  # 这两个参数现在JDK8中被-XX:MetaspaceSize=size和-XX:MaxMetaspaceSize=size元空间所替代

  ```
categories:
  - jvm
toc: false
date: 2019-02-25 14:35:20
---

本文主要提供jvm中各种jvm配置参数的解释，具体如何配置还需要根据使用环境而定，这里只标明每个参数配置项的意义
<!-- more -->
# JVM配置参数列表
```java
-Xmx3550m               # 设置jvm最大可用内存大小为3550m
-Xms3550m               # 设置jvm初始内存为3550m.此设置可与Xmx相同，避免每次垃圾回收后jvm重新分配内存
-Xmn2g                  # 设置年轻代为2g，整个堆大小=年轻代大小+年老代大小+持久代大小。持久代一般固定大小为64m，所以增大年轻代后，将会减少年老代大小，此值对系统性能影响较大，Sun官方推荐配置为整个堆的3/8
-Xss128k                # 设置每个线程的堆栈大小。JDK5.0以后每个线程堆栈大小为1M，以前每个线程堆栈大小为256K。更具应用的线程所需内存大小进行调整。在相同物理内 存下，减小这个值能生成更多的线程。但是操作系统对一个进程内的线程数还是有限制的，不能无限生成，经验值在3000~5000左右。

-XX:NewRatio=4          # 设置年轻代（包括Eden和两个Survivo区）与年老代的比值，除去持久代。设置为4,则年轻代与年老代所占比值为1:4，年轻代占整个堆栈的1/5
-XX:SurvivorRatio=4     # 设置年轻代中Eden区与Survivor区的大小比值。设置为4，则两个Survivor区与一个Eden区的比值为2:4,一个Servivor区占整个年轻代的1/6
-XX:MaxTenuringThreshold=0      # 设置垃圾最大年轻。如果设置为0,则年轻代对象不经过Survivor区，直接进入年老代。对于年老代比较多的应用，可以提高效率。如果将此值设置为一个较大值，则年轻代对象会在Survivor区进行多次复制，这样可以增加对象在年轻代的存活时间，增加在年轻代被回收的概率。

-XX:PermSize=64m                #设置非堆内存初始值，默认是物理内存的1/64，在数据量很大的文件导出时，一定要把这个值设置上，否则会出现内存溢出。
-XX:MaxPermSize=16m             # 设置最大非堆内存的大小，默认是物理内存的1/4。那么，如果是物理内存4GB，那么64分之一就是64MB，这就是PermSize默认值，也就是永生代内存初始大小；四分之一是1024MB，这就是MaxPermSize默认大小。
# MaxPermSize缺省值和-server -client选项相关。
# -server选项下默认MaxPermSize为64m
# -client选项下默认MaxPermSize为32m
# 这两个参数现在JDK8中被-XX:MetaspaceSize=size和-XX:MaxMetaspaceSize=size元空间所替代
```