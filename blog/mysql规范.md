# 数据库命名规范
1. 所有数据库对象名称必须使用小写字母并用下划线分割
2. 所有数据库对象名称禁止使用mysql保留关键字
3. 数据库对象命名要能做到见名知意，并且最好不要超过32个字符
4. 临时库表必须以temp_为前缀并以日期为后缀，备份表必须以bak_为前缀并以日期为后缀
5. 所有存储相同数据的列名和列类型必须一致

# 数据库基本设计规范
1. 说有表必须使用innodb存储引擎
2. 数据库和表的字符集统一使用UTF8MB4
3. 所有表和字段都需要添加注释
4. 尽量控制单表数据量在500万以下
5. 谨慎使用分区表
6. 尽量做到冷热数据分离，减小表的宽度
7. 禁止在表中建立预留字段
8. 禁止在表中存储图片，文件等二进制文件
9. 禁止在线上做数据库压力测试

# 数据库字段设计规范
1. 优先选择符合存储需要的最小数据类型
2. 避免使用TEXT,BLOB数据类型，最常见的TEXT类型可以存储64K的数据
3. 避免使用ENUM类型
4. 尽可能把所有列定义为NOT NULL
5. 使用TIMESTAMP或DATETIME类型存储时间
6. 同财务相关的金额类数据必须使用decimal类型

# 索引设计规范
1. 限制每张表上的索引数量，建议单张表索引不超过5个
2. 禁止给表中的每一列都建立单独的索引
3. 每个innodb表必须有个主键

# 数据库SQL开发规范
1. 建议使用预编译语句进行数据库操作
2. 避免数据类型的隐式转换
3. 充分利用表上已经存在的索引
4. 数据库设计时，应该要对以后扩展进行考虑
5. 程序连接不同数据库使用不同账号，静止跨库查询
6. select字段必须明确，禁止*
7. 禁止使用不含字段列表的insert语句
8. 避免使用子查询，可以把子查询优化为join操作
9. 避免使用join关联太多的表
10. 减少同数据库的交互次数
11. 对应同一列进行or判断时，使用in代替or
12. 禁止使用order by rand进行随机排序
13. where从句中禁止对列进行函数转换和计算
14. 在明显不会有重复值时使用UNION ALL而不是UNION
15. 拆分复杂的大SQL为多个小SQL

# 数据库操作行为规范
1. 超100万行的批量写操作，要分多批次进行操作，否者可能会造成严重的主从延迟
2. 对于大表使用pt-online-schema-change修改表结构
3. 禁止为程序使用的账号赋予super权限
4. 对于程序使用的数据库账号，遵循权限最小原则
